class Solution {
    public int[] findXSum(int[] nums, int k, int x) {
        return find(nums,k,x);
    }
    static int[] find(int[] arr,int k,int x){
        int[] ans=new int[arr.length-k+1];
        int j=0;
        for(int i=0;i<=arr.length-k;i++){
            ans[j++]=get(arr,i,k,x);
        }
         return ans;
    }
    static int get(int[] arr,int s,int k,int x){
        HashMap<Integer,Integer> map=new HashMap<>();
        for(int i=s;i<s+k;i++){
            map.put(arr[i],map.getOrDefault(arr[i],0)+1);
        }
        List<Map.Entry<Integer, Integer>> list = new ArrayList<>(map.entrySet());
        Collections.sort(list, (a, b) -> {
    if (!a.getValue().equals(b.getValue())) {
        return b.getValue() - a.getValue();   
    }
    return b.getKey() - a.getKey();      
});
    int sum = 0;
for (int i = 0; i < x && i < list.size(); i++) {
   sum += list.get(i).getKey() * list.get(i).getValue();
}
return sum;
    }
}
