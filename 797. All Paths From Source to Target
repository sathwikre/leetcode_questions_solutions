class Solution {
    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {
        return find(graph);
    }
    static List<List<Integer>> find(int[][] arr){
        List<List<Integer>> adj=new ArrayList<>();
        for(int i=0;i<arr.length;i++){
            adj.add(new ArrayList<>());
        }
        for(int i=0;i<arr.length;i++){
            for(int j=0;j<arr[i].length;j++){
                adj.get(i).add(arr[i][j]);
            }
        }
        Queue<List<Integer>> q=new LinkedList<>();
        List<Integer> a=adj.get(0);
        for(int i=0;i<a.size();i++){
            List<Integer> path = new ArrayList<>();
path.add(0);
path.add(a.get(i));
q.add(path);

        }
        List<List<Integer>> ans=new ArrayList<>();
       while(!q.isEmpty()){
           List<Integer> w = q.poll();
        
            if(w.get(w.size()-1)==arr.length-1){
                ans.add(w);
                continue;
            }
            List<Integer> r=adj.get(w.get(w.size()-1));
            for(int i=0;i<r.size();i++){
               List<Integer> e = new ArrayList<>(w);
e.add(r.get(i));
q.add(e);

            }
       }
       return ans;
    }
}
